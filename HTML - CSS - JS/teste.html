<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>teste</title>

</head>

<body onkeydown="andar(event)">

    <style>
        body {
            margin: 0;
            background-image: url('https://app.anomuragame.com/img/anomura-bg_undersea.gif');
            background-size: cover;
            display: flex;
            font-family: cursive;
        }

        .tampando {
            background-color: rgba(17, 8, 39, 1);
            height: 100vh;
            width: 59px;
            position: fixed;
        }

        .displayFlexJustifyCenter {
            display: flex;
            justify-content: center;
        }

        .jogoEnav {
            background-color: rgba(17, 8, 39, 1);
            width: 70%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            align-items: center;
        }

        .menu {
            background-color: rgba(17, 8, 39, 1);
            height: 100vh;
            width: 30%;

        }

        .battlefield {
            background-image: url(public/imgs/fundo.gif);
            background-size: cover;
            height: 650px;
            width: 95%;
            border: solid;
            margin-right: -60px;
            border-color: white;
        }

        .navBar {
            background-color: rgba(128, 255, 212, 0);
            width: 95%;
            height: 100px;
            margin-top: 50px;
            margin-right: -60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            font-size: 40px;

        }

        #valor_dificuldade {
            background-color: rgba(0, 0, 0, 0);
            color: white;
            font-family: cursive;
            font-size: 30px;
            border: solid;
            border-color: white;

        }

        #valor_dificuldade option {
            background-color: rgba(0, 0, 0, 0);
            color: black;

        }

        .personagemArea {
            /* background-color: rgba(128, 255, 212, 0.5); */
            width: 400px;
            height: 650px;
            position: absolute;
        }

        #personagem {
            height: 100px;
            width: 80px;
            /* border: solid;
            border-color: rgb(97, 40, 255); */
            transition: 0.5s;
            margin: 275px 0px 0px 0px;
        }

        .obstaculo {
            /* border: solid;
            border-color: red; */
            height: 140px;
            width: 80px;
        }

        #peixe {
            transition: 2s;
            margin: 0px 0px 0px 1400px;
        }

        #peixe2 {
            transition: 3s;
            margin: 0px 0px 0px 1400px;
        }

        #peixe3 {
            transition: 2s;
            margin: 0px 0px 0px 1400px;
        }

        #spawnAleatorio {
            background-color: rgba(18, 16, 51, 0.6);
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
        }

        #start {
        background-color: rgba(8, 5, 27, 0.8);
        transition: 0.5s;
        cursor: pointer;
        width: 150px;
        height: 60px;
        border-radius: 10px;
        }

        #start:hover {
        background-color: rgb(38, 28, 99);
        }
    </style>

    <div class="tampando"></div>

    <div class="jogoEnav">

        <div class="navBar">
            <p>pontos: 
                <span id="pontos"></span>
            </p>


            <!-- <p id="dificuldade"> dificuldade:
                <select name="" id="valor_dificuldade">
                    <option value="facil">fácil</option>
                    <option value="normal">normal</option>
                    <option value="dificil">dificil</option>
                </select>
            </p> -->

            <p id="start" class="displayFlexJustifyCenter" onclick="começar()">
                start
            </p>

        </div>

        <div class="battlefield displayFlexJustifyCenter" id="battlefield">

            <div class="personagemArea displayFlexJustifyCenter" id="area">

            </div>


            <div id="spawnAleatorio">
                <div class="obstaculo" id="peixe"> <img src="public/imgs/anglerfish.gif"
                        style="width: 200px; margin: -10px 0px 0px -70px;"></div>
                <div class="obstaculo" id="peixe2"> <img src="public/imgs/anglerfish.gif"
                        style="width: 200px; margin: -10px 0px 0px -70px;"></div>
                <div class="obstaculo" id="peixe3"> <img src="public/imgs/anglerfish.gif"
                        style="width: 200px; margin: -10px 0px 0px -70px;"></div>
            </div>
        </div>
    </div>

    <div class="menu"></div>


</body>

</html>

<script>


    // MOVIMENTO
    var cima = 275;

    function andar(event) {

        if (event.key == 'ArrowUp') {
            cima -= 200
            if (cima < 80) {
                cima = 80
            }
        }

        if (event.key == 'ArrowDown') {
            cima += 200
            if (cima > 475) {
                cima = 475
            }
        }

        personagem.style.margin = `${cima}px 0px 0px 0px`;

    }

    var pontuação = 0;
    
    function começar() {
        
        pontuação = 0;
        
        area.innerHTML = `<div id="personagem">
                            <img src="public/imgs/peixe.gif" style="width: 150px; margin: -30px 0px 0px -40px;">
                          </div>`

        var peixesAndam = setInterval(peixinhos, 6000)
                              
        // // PEIXE 1 CIMA

        function peixinhos() {
                
                peixe.style.margin = '0px 0px 0px 1400px'
            
                setTimeout(() => {
                    peixe.style.margin = `0px 0px 0px -150px`
                }, 3000);

        // PEIXE 2 MEIO 


            var dadoA2 = parseInt(Math.random() * 100);
            var dadoB2 = parseInt(Math.random() * 100);

            if (dadoA2 <= 75) {
                peixe2.style.margin = '0px 0px 0px 1400px'

            }

                setTimeout(() => {
                    peixe2.style.margin = `0px 0px 0px -150px`
                }, 3000);


        // PEIXE 3 BAIXO


            var dadoA3 = parseInt(Math.random() * 100);
            var dadoB3 = parseInt(Math.random() * 100);

            if (dadoA3 <= 75) {

                peixe3.style.margin = '0px 0px 0px 1400px'

            }

            if (dadoB3 <= 75) {
                setTimeout(() => {
                    peixe3.style.margin = `0px 0px 0px -150px`
                }, 3000);
            }

        }

        var intervaloHitboxes = setInterval(hitboxes, 1)

        function hitboxes() {
            var personagemHit = document.getElementById('personagem');
            var PhitLeft = personagemHit.getBoundingClientRect().left;
            var PhitRight = personagemHit.getBoundingClientRect().right;
            var PhitTop = personagemHit.getBoundingClientRect().top;
            var PhitBottom = personagemHit.getBoundingClientRect().bottom

            var inimigoHit = document.getElementById('peixe');
            var EhitLeft = inimigoHit.getBoundingClientRect().left;
            var EhitRight = inimigoHit.getBoundingClientRect().right;
            var EhitTop = inimigoHit.getBoundingClientRect().top;
            var EhitBottom = inimigoHit.getBoundingClientRect().bottom;

            var inimigoHit2 = document.getElementById('peixe2');
            var EhitLeft2 = inimigoHit2.getBoundingClientRect().left;
            var EhitRight2 = inimigoHit2.getBoundingClientRect().right;
            var EhitTop2 = inimigoHit2.getBoundingClientRect().top;
            var EhitBottom2 = inimigoHit2.getBoundingClientRect().bottom;

            var inimigoHit3 = document.getElementById('peixe3');
            var EhitLeft3 = inimigoHit3.getBoundingClientRect().left;
            var EhitRight3 = inimigoHit3.getBoundingClientRect().right;
            var EhitTop3 = inimigoHit3.getBoundingClientRect().top;
            var EhitBottom3 = inimigoHit3.getBoundingClientRect().bottom;


                pontuação += 1;
                pontos.innerHTML = pontuação
          

            if ((PhitRight >= EhitLeft && PhitLeft <= EhitRight && PhitTop <= EhitBottom && PhitBottom >= EhitTop)
                || (PhitRight >= EhitLeft2 && PhitLeft <= EhitRight2 && PhitTop <= EhitBottom2 && PhitBottom >= EhitTop2)
                || (PhitRight >= EhitLeft3 && PhitLeft <= EhitRight3 && PhitTop <= EhitBottom3 && PhitBottom >= EhitTop3)) {

                    area.innerHTML = ``;
                    pontos.innerHTML = pontuação;
                    verdade = 0
                    clearInterval(intervaloHitboxes);
                    clearInterval(peixesAndam);
            }

            ;
        }

    }




















</script>